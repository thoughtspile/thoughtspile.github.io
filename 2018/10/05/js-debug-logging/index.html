<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    
      <meta name="google-site-verification" content="5nfOA5k_QcuAP9zbAASIV24DlAZG7BWxRVYoNlKCAoc" />
    
    <meta name="description" content="Cheer up, today is a quick tip day. No rants, no motivation, no existentialism — just a few simple tricks you can use right now. We’ll be talking about console.log and friends for debugging javascript">
<meta name="keywords" content="javascript,programming,frontend,tips">
<meta property="og:type" content="article">
<meta property="og:title" content="Five Tricks for Debug-Logging in JavaScript">
<meta property="og:url" content="https://thoughtspile.github.io/2018/10/05/js-debug-logging/index.html">
<meta property="og:site_name" content="Vladimir Klepov as a Coder">
<meta property="og:description" content="Cheer up, today is a quick tip day. No rants, no motivation, no existentialism — just a few simple tricks you can use right now. We’ll be talking about console.log and friends for debugging javascript">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://thoughtspile.github.io/images/conditional-logging.png">
<meta property="og:image" content="https://thoughtspile.github.io/images/painted-log.png">
<meta property="og:updated_time" content="2018-10-05T10:48:11.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Five Tricks for Debug-Logging in JavaScript">
<meta name="twitter:description" content="Cheer up, today is a quick tip day. No rants, no motivation, no existentialism — just a few simple tricks you can use right now. We’ll be talking about console.log and friends for debugging javascript">
<meta name="twitter:image" content="https://thoughtspile.github.io/images/conditional-logging.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Five Tricks for Debug-Logging in JavaScript</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
      <link rel="alternate" href="/atom.xml" title="Vladimir Klepov as a Coder" type="application/atom+xml" />
    

    <script type='text/javascript' src='//platform-api.sharethis.com/js/sharethis.js#property=5c1957fa423bba0012ec3bd1&product=inline-share-buttons'
      async='async'></script>

</head>

<body class="max-width mx-auto px3">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/thoughtspile">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2018/10/22/typescript-derived-interface/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2018/09/29/lets-make-software-better/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://thoughtspile.github.io/2018/10/05/js-debug-logging/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&text=Five Tricks for Debug-Logging in JavaScript"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&title=Five Tricks for Debug-Logging in JavaScript"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&is_video=false&description=Five Tricks for Debug-Logging in JavaScript"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Five Tricks for Debug-Logging in JavaScript&body=Check out this article: https://thoughtspile.github.io/2018/10/05/js-debug-logging/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&title=Five Tricks for Debug-Logging in JavaScript"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&title=Five Tricks for Debug-Logging in JavaScript"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&title=Five Tricks for Debug-Logging in JavaScript"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&title=Five Tricks for Debug-Logging in JavaScript"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&name=Five Tricks for Debug-Logging in JavaScript&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Logging-in-concise-arrows"><span class="toc-number">1.</span> <span class="toc-text">Logging in concise arrows</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Beware-of-post-log-object-mutation"><span class="toc-number">2.</span> <span class="toc-text">Beware of post-log object mutation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Quickly-filter-logs-by-condition"><span class="toc-number">3.</span> <span class="toc-text">Quickly filter logs by condition</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Make-your-logs-stand-out"><span class="toc-number">4.</span> <span class="toc-text">Make your logs stand out</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Dump-stack-traces-with-console-error"><span class="toc-number">5.</span> <span class="toc-text">Dump stack traces with console.error</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Five Tricks for Debug-Logging in JavaScript
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Vladimir Klepov as a Coder</span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-10-05T10:33:42.000Z" itemprop="datePublished">05.10.2018</time>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/frontend/">frontend</a>, <a class="tag-link" href="/tags/javascript/">javascript</a>, <a class="tag-link" href="/tags/programming/">programming</a>, <a class="tag-link" href="/tags/tips/">tips</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>Cheer up, today is a quick tip day. No <a href="/2018/09/23/bad-software-week/">rants</a>, no <a href="/2018/09/23/bad-software-week/">motivation</a>, no existentialism — just a few simple tricks you can use right now.</p>
<p>We’ll be talking about <code>console.log</code> and friends for debugging javascript, mostly in the browser. If you don’t use devtools debugger — try it, but I’m not here to judge you (unless you use <code>alert</code>). There is at least one case where <code>console</code> is better: you have a method that gets called frequently, and want to inspect the internal state over multiple runs, then drill down on the interesting ones. Pausing on every hit would be extremely tedious.</p>
<h2 id="Logging-in-concise-arrows"><a href="#Logging-in-concise-arrows" class="headerlink" title="Logging in concise arrows"></a>Logging in concise arrows</h2><p>If we want to log something inside a function written in concise arrow syntax (the one without curly braces), you might find yourself adding and removing the body and changing formatting — very boring and error-prone:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">promise.then(<span class="function"><span class="params">res</span> =&gt;</span> res.data.age);</span><br><span class="line"><span class="comment">// what else was there in res?</span></span><br><span class="line">promise.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123; <span class="comment">// meh the braces... enter...</span></span><br><span class="line">  <span class="built_in">console</span>.log(res); <span class="comment">// this is the thing... enter...</span></span><br><span class="line">  <span class="keyword">return</span> res; <span class="comment">// oh and the "return"</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>No need to suffer! Since <code>console.log</code> returns <code>undefined</code>, which is falsey, we can just write:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">promise.then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res) || res.data.age);</span><br></pre></td></tr></table></figure>
<h2 id="Beware-of-post-log-object-mutation"><a href="#Beware-of-post-log-object-mutation" class="headerlink" title="Beware of post-log object mutation"></a>Beware of post-log object mutation</h2><p>My most painful session of console-debugging was related to this one. Oh, times. I must admit, this problem does not exist for debugger pauses. Yet, for what it’s worth, let’s say we have a <code>city</code> object, and something’s wrong. Let’s log it:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> city = &#123; <span class="attr">name</span>: <span class="string">'Vladivostok'</span>, <span class="attr">poulation</span>: <span class="number">606589</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(city); <span class="comment">// &#123; name: null, population: 606589 &#125;</span></span><br></pre></td></tr></table></figure>
<p>What the hell? Where is the name? You try. You try again. You start suspecting V8 just shipped with multi-threading. You try again. Guess what? In a far away area of your code there’s a</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">city.name = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>
<p>The solution is simple: if you see the data look weird (or just want to double-check), dump a clone / cloneDeep (to triple-check) / stringify:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> city = &#123; <span class="attr">name</span>: <span class="string">'Vladivostok'</span>, <span class="attr">poulation</span>: <span class="number">606589</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(city));</span><br><span class="line"><span class="comment">// "&#123; "name": "Vladivostok, "population": 606589 &#125;"</span></span><br></pre></td></tr></table></figure>
<h2 id="Quickly-filter-logs-by-condition"><a href="#Quickly-filter-logs-by-condition" class="headerlink" title="Quickly filter logs by condition"></a>Quickly filter logs by condition</h2><p>Another trick with boolean short-circuiting is conditional logging. Suppose we have an array of users, and there’s a bug displaying users from Australia. But if you log all the users, there is a lot of eye-scanning to find the necessary ones. Booelan short-circuiting to the rescue again, with <code>condition &amp;&amp; console.log(data)</code></p>
<p><img src="/images/conditional-logging.png" alt=""></p>
<p>Bad code style? Sure. But you’ll remove it in a minute anyways.</p>
<h2 id="Make-your-logs-stand-out"><a href="#Make-your-logs-stand-out" class="headerlink" title="Make your logs stand out"></a>Make your logs stand out</h2><p>With a lot of logs running around your console, finding the ones you just added is no easy task.</p>
<p><img src="/images/painted-log.png" alt=""></p>
<p>If you use <code>console.error</code> or <code>warn</code>, your line will be brighter-colored and easier to find. At least until you write 20 <code>console.warn</code>s.</p>
<h2 id="Dump-stack-traces-with-console-error"><a href="#Dump-stack-traces-with-console-error" class="headerlink" title="Dump stack traces with console.error"></a>Dump stack traces with <code>console.error</code></h2><p>The final tip will help you find <em>who</em> called the function, instead of <em>how</em>. <code>console.error</code> conveniently captures the stack trace and shows it in a nice collapsible way. You can quickly look around and find all the call sites — very neat.</p>
<hr>
<p>That’s all for today! Hit the comments if you use know another neat logging trick, or want to blame everyone for not using real loggers, or for not using the debugger. Would love to make a teaser for the next post, but have not chosen yet. <em>Hasta la vista!</em></p>

  </div>
  <div class="call-to-action clearfix">
    
      <a class="call-to-action__item left" href="/2018/09/29/lets-make-software-better/">
        <i class="fas fa-chevron-left fa-3x"></i>
        <span class="call-to-action__item__name">Let's Make Software Better</span>
      </a>
    
    
      <a class="call-to-action__item right" href="/2018/10/22/typescript-derived-interface/">
        <span class="call-to-action__item__name">Angular Tip: Derived Interfaces in TypeScript</span>
        <i class="fas fa-chevron-right fa-3x"></i>
      </a>
    
  </div>
</article>
<div class="sharethis-inline-share-buttons"></div>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/thoughtspile">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Logging-in-concise-arrows"><span class="toc-number">1.</span> <span class="toc-text">Logging in concise arrows</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Beware-of-post-log-object-mutation"><span class="toc-number">2.</span> <span class="toc-text">Beware of post-log object mutation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Quickly-filter-logs-by-condition"><span class="toc-number">3.</span> <span class="toc-text">Quickly filter logs by condition</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Make-your-logs-stand-out"><span class="toc-number">4.</span> <span class="toc-text">Make your logs stand out</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Dump-stack-traces-with-console-error"><span class="toc-number">5.</span> <span class="toc-text">Dump stack traces with console.error</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://thoughtspile.github.io/2018/10/05/js-debug-logging/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&text=Five Tricks for Debug-Logging in JavaScript"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&title=Five Tricks for Debug-Logging in JavaScript"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&is_video=false&description=Five Tricks for Debug-Logging in JavaScript"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Five Tricks for Debug-Logging in JavaScript&body=Check out this article: https://thoughtspile.github.io/2018/10/05/js-debug-logging/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&title=Five Tricks for Debug-Logging in JavaScript"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&title=Five Tricks for Debug-Logging in JavaScript"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&title=Five Tricks for Debug-Logging in JavaScript"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&title=Five Tricks for Debug-Logging in JavaScript"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://thoughtspile.github.io/2018/10/05/js-debug-logging/&name=Five Tricks for Debug-Logging in JavaScript&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 Vladimir Klepov
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/thoughtspile">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/fontawesome-all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-121445688-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'thoughtspile';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


