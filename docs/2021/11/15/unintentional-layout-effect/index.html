<!doctype html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="yandex-verification" content="635edef3908320be"><meta name="google-site-verification" content="5nfOA5k_QcuAP9zbAASIV24DlAZG7BWxRVYoNlKCAoc"><meta name="color-scheme" content="dark light"><meta property="og:type" content="article"><meta property="og:title" content="useEffect sometimes fires before paint"><meta property="og:url" content="https://thoughtspile.github.io/2021/11/15/unintentional-layout-effect/"><meta property="og:site_name" content="Vladimir Klepov as a Coder"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://thoughtspile.github.io/images/forced-le-flush-chart.png?invert"><meta property="og:image" content="https://thoughtspile.github.io/images/le-flush-paint.png?invert"><meta property="article:published_time" content="2021-11-15T00:00:00.000Z"><meta property="article:author" content="Vladimir Klepov"><meta property="article:tag" content="react"><meta property="article:tag" content="hooks"><meta property="article:tag" content="javascript"><meta property="article:tag" content="frontend"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@thoughtspile"><meta name="twitter:image" content="https://thoughtspile.github.io/images/forced-le-flush-chart.png?invert"><title>useEffect sometimes fires before paint</title><link rel="stylesheet" href="/css/style.css?ts=1715245757453"><link rel="canonical" href="https://thoughtspile.github.io/2021/11/15/unintentional-layout-effect/"><link rel="alternate" href="/atom.xml" title="Vladimir Klepov as a Coder" type="application/atom+xml"><script defer="defer" data-domain="thoughtspile.github.io" src="https://t.thoughtspile.tech/js/script.js"></script></head><body class="max-width mx-auto px3"><div class="content index"><a href="/" id="header" class="header header--post"><div id="logo"></div><header id="title"><h1>Vladimir Klepov as a Coder</h1></header></a><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">useEffect sometimes fires before paint</h1><div class="post__date">Written in <time>2021</time></div></header><div class="content" itemprop="articleBody"><p><code>useEffect</code> should run after paint to prevent blocking the update. But did you know it's not really <em>guaranteed</em> to fire after paint? Updating state in <code>useLayoutEffect</code> makes every <code>useEffect</code> from the same render run <em>before</em> paint, effectively turning them into layout effects. Confusing? Let me explain.</p><p>In a normal flow, react updates go like this:</p><ol><li>React stuff: render virtual DOM, schedule effects, update real DOM</li><li>Call <code>useLayoutEffect</code></li><li>React releases control, browser paints the new DOM</li><li>Call <code>useEffect</code></li></ol><p><a href="https://reactjs.org/docs/hooks-reference.html#useeffect" target="_blank" rel="noopener">React docs</a> don't say when, exactly, useEffect fires — it happens, quote, <strong>after layout and paint, during a deferred event.</strong> I always assumed it was a <code>setTimeout(effect, 3)</code>, but it <a href="https://stackoverflow.com/a/56727837" target="_blank" rel="noopener">appears to use</a> a <code>MessageChannel</code> trick, which is neat.</p><p>There is, however, a more interesting passage in the docs:</p><blockquote><p>Although useEffect is deferred until after the browser has painted, it’s guaranteed to fire before any new renders. React will always flush a previous render’s effects before starting a new update.</p></blockquote><p>This is a good guarantee — you can be sure no updates are missed. But it also implies that sometimes the effect fires before paint. If <em>a)</em> effects are flushed before a new update starts, and <em>b)</em> an update can start <em>before</em> paint, e.g. when triggered from <code>useLayoutEffect</code>, <em>then</em> the effect must be flushed <em>before</em> that update, which is <em>before</em> paint. Here's a timeline:</p><p><img src="/images/forced-le-flush-chart.png?invert" alt=""></p><ol><li>React update 1: render virtual DOM, schedule effects, update DOM</li><li>Call <code>useLayoutEffect</code></li><li><strong>Update state,</strong> schedule re-render</li><li><strong>Call <code>useEffect</code></strong></li><li>React update 2</li><li>Call <code>useLayoutEffect</code> from update 2</li><li>React releases control, browser <strong>paints</strong> the new DOM</li><li>Call <code>useEffect</code> from update 2</li></ol><p>This is not a very rare situation — you can't really update state in <code>useEffect</code>, because updating state updates the DOM, and doing so after paint leaves the user with one stale frame, <a href="https://blog.logrocket.com/useeffect-vs-uselayouteffect/" target="_blank" rel="noopener">resulting in noticeable flickering.</a></p><p>For example, let's build a responsive input (like a fake <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Container_Queries" target="_blank" rel="noopener">CSS container query</a>) that only renders the clear button if the input is wider than <code>300px</code>. We need real DOM to measure the input, so we need some effect. We also don't want the icon to appear / disappear after one frame, so the initial measurement goes into <code>useLayoutEffect</code>:</p><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">ResponsiveInput</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClear<span class="token punctuation">,</span> <span class="token operator">...</span>props <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> el <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> <span class="token punctuation">[</span>w<span class="token punctuation">,</span> setW<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> <span class="token function-variable function">measure</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setW</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>current<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">useLayoutEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">measure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token comment">// don't take this too seriously, say it's a ResizeObserver</span><br>    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span> measure<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span> measure<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span><span class="token plain-text"><br>      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>el<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"><br>      </span><span class="token punctuation">{</span>w <span class="token operator">></span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClear<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">clear</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token punctuation">}</span><span class="token plain-text"><br>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>We've tried to delay <code>addEventListener</code> until after paint with <code>useEffect</code>, but the state update in <code>useLayoutEffect</code> forces it to happen before paint <a href="https://codesandbox.io/s/infallible-wildflower-127lv?file=/src/App.js:294-408" target="_blank" rel="noopener">(see sandbox):</a></p><p><img src="/images/le-flush-paint.png?invert" alt=""></p><p><code>useLayoutEffect</code> is not the only place where updating forces an early effect flush — host refs (<code>&lt;div ref={HERE}&gt;</code>), <code>requestAnimationFrame</code> loops, and microtasks scheduled from uLE trigger the same behavior.</p><p>Fine, this is not the end of the world — under some circumstances, your render flow is less optimal than it could be, who cares. Still, it's useful to know the limitations of your tool. Here are 4 practical lessons to learn:</p><h3>Don't rely on useEffect to fire after update</h3><p>Even if you know the catch, it's very hard to make sure some <code>useEffect</code> is not affected by <code>useLayoutEffect</code> state update:</p><ol><li>My component doesn't <code>useLayoutEffect</code>. But are you sure none of the custom hooks (e.g. <code>usePopper</code>) do that?</li><li>My component only uses built-in React hooks. But a uLE state update up the tree can leak through <code>useContext</code> or a parent re-render.</li><li>My component only has <code>useEffect</code>, and a <code>memo()</code>. But effects from an update <a href="https://github.com/facebook/react/blob/4ff5f5719b348d9d8db14aaa49a48532defb4ab7/packages/react-reconciler/src/ReactFiberWorkLoop.new.js#L769" target="_blank" rel="noopener">are flushed globally</a>, so a pre-paint update in other components still flushes child effects.</li></ol><p>With a lot of discipline you probably can have a codebase with <em>no</em> state updates in <code>useLayoutEffect</code>, but that's superhuman. The best advice is not to rely on <code>useEffect</code> to fire after paint, just like <code>useMemo</code> does not guarantee 100% stable reference. If you <em>want</em> the user to see something painted for one frame, <code>useEffect</code> is not the way to do it — try double <code>requestAnimationFrame</code> or do the postMessage trick yourself.</p><p>Conversely, suppose you don't listen to the good advice from React team and update DOM in <code>useEffect</code>. You test it, and, <em>aha!</em>, no flickering. Bad news — maybe it's the result of a state update before paint. Move some code around, and it <em>will</em> flicker.</p><h3>Don't waste your time splitting layout effects</h3><p>Following <code>useEffect</code> vs <code>useLayoutEffect</code> guidelines to the letter, we could split one logical side-effect into a layout effect to update the DOM, and a &quot;delayed&quot; effect, like we've done in our <code>ResponsiveInput</code> example:</p><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// DOM update = layout effect</span><br><span class="token function">useLayoutEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setWidth</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>current<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// subscription = lazy logic</span><br><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> measure<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> measure<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>However, as we now know, this does nothing — both effects are flushed before render. Besides, the separation is <em>sloppy</em> — if we pretend <code>useEffect</code> does fire after paint, are you 100% sure the element won't resize between the effects? I'm not. Leaving all size-tracking logic in a single <code>layoutEffect</code> here is safer, cleaner, has the same amount of pre-paint work, and gives React one less effect to manage — pure win:</p><pre class="language-js"><code class="language-js"><span class="token function">useLayoutEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token function">setWidth</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>current<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> measure<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> measure<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3>Don't update state in useLayoutEffect</h3><p>Good advice, but easier said than done — <code>useEffect</code> is a worse place to update state, because flickering is poor UX, and UX is more important than performance. Updating state during render looks dangerous.</p><p>Sometimes state can be safely replaced with useRef. Updating a ref doen't trigger an update, and the effect can run as intended. I happen to have <a href="https://blog.thoughtspile.tech/2021/10/18/non-react-state/" target="_blank" rel="noopener">a post exploring some of these cases.</a></p><p>If you can, try to come up with a <a href="https://blog.thoughtspile.tech/2021/09/21/useeffect-derived-state/" target="_blank" rel="noopener">state model that doesn't rely on effects,</a> but I don't know how to invent &quot;good&quot; state models on command.</p><h3>Bypass state update</h3><p>If you find particular <code>useLayoutEffect</code> causing trouble, consider bypassing state update and mutating DOM directly. That way, react doesn't schedule an update, and needn't flush effects eagerly. We could try:</p><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> clearRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> <span class="token function-variable function">measure</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// No worries react, I'll handle it:</span><br>  clearRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>display <span class="token operator">=</span> el<span class="token punctuation">.</span>current<span class="token punctuation">.</span>offsetWidth <span class="token operator">></span> <span class="token number">200</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> none<span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token function">useLayoutEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">measure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span> measure<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span> measure<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">return</span> <span class="token punctuation">(</span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span><span class="token plain-text"><br>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>el<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"><br>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>clearRef<span class="token punctuation">}</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClear<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">clear</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text"><br>  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>I've explored this technique in my <a href="https://blog.thoughtspile.tech/2021/10/18/non-react-state/" target="_blank" rel="noopener">older post on avoiding <code>useState</code></a>, and we just got one more reason to skip react updates. Still, manually managing DOM updates is complicated and error-prone, so reserve this trick for performance-critical situations — very hot components or super-heavy useEffects.</p><hr><p>Today we've discovered that <code>useEffect</code> sometimes executes before paint. A frequent cause is updating state in <code>useLayoutEffect</code> — it requests a re-render <em>before</em> paint, and the effect must run before that re-render. This also happens when updating state from RAFs or microtasks. What this means for us:</p><ol><li>Updating state in <code>useLayoutEffect</code> is not good for app performance. Try not to do that, but sometimes there is no good alternative.</li><li>Don't rely on <code>useEffect</code> to fire after paint.</li><li>Updating DOM from <code>useEffect</code> <em>will</em> cause a visible flicker — maybe you don't see it because of a layout effect updating state.</li><li>Extracting a part of <code>useLayoutEffect</code> into <code>useEffect</code> for <em>performance</em> makes no sense if you set state in the layout effect part.</li><li>One more reason to mutate the DOM from uLE manually in performance-critical cases.</li></ol></div><span class="share"><div><a href="https://twitter.com/share?url=https://thoughtspile.github.io/2021/11/15/unintentional-layout-effect/&text=useEffect sometimes fires before paint by @thoughtspile" target="_blank" rel="noopener">Tweet</a></div><div id="share-button"><a>Share</a></div></span><div class="social-links"><a href="https://www.linkedin.com/in/vklepov/" class="link--bare" target="_blank" rel="noopener"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a><a href="https://github.com/thoughtspile" class="link--bare" target="_blank" rel="noopener"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="/atom.xml" class="link--bare" target="_blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="rss" class="svg-inline--fa fa-rss fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM128 416c0 35.3-28.7 64-64 64s-64-28.7-64-64s28.7-64 64-64s64 28.7 64 64zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"></path></svg></a></div><a href="https://buymeacoffee.com/thoughtspile" class="link--bare bmc-card" target="_blank" rel="noopener"><div><b>Hello, friend!</b> My name is Vladimir, and I love writing about web development. If you got down here, you probably enjoyed this article. My goal is to become an independent content creator, and you'll help me get there by <span class="bmc">buying me a coffee!</span></div><img src="/images/bmc.png" data-no-preview class="bmc-image"></a><div class="post-related"><div class="post-sibling"><span class="post-siblings__direction">More?</span> <a class="tag-link-link" href="/">All articles ever</a> <a class="tag-link-link" href="/tags/react" rel="tag">react</a> <a class="tag-link-link" href="/tags/hooks" rel="tag">hooks</a> <a class="tag-link-link" href="/tags/javascript" rel="tag">javascript</a> <a class="tag-link-link" href="/tags/frontend" rel="tag">frontend</a></div><a class="link--bare post-sibling" href="/2021/11/08/semver-challenges/"><span class="post-siblings__direction">Older?</span> <span class="link__text">SemVer: The Tricky Parts</span> </a><a class="link--bare post-sibling" href="/2021/11/20/open-source-starter/"><span class="post-siblings__direction">Newer?</span> <span class="link__text">Open source starter pack for JS devs</span></a></div></article><script async src="/js/share.js"></script></div></body></html>