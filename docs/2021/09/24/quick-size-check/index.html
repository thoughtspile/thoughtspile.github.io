<!doctype html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="yandex-verification" content="635edef3908320be"><meta name="google-site-verification" content="5nfOA5k_QcuAP9zbAASIV24DlAZG7BWxRVYoNlKCAoc"><meta name="color-scheme" content="dark light"><meta property="og:type" content="article"><meta property="og:title" content="Zero-setup bundle size checker"><meta property="og:url" content="https://thoughtspile.github.io/2021/09/24/quick-size-check/"><meta property="og:site_name" content="Vladimir Klepov as a Coder"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://thoughtspile.github.io/images/raw-bundle-size.png"><meta property="og:image" content="https://thoughtspile.github.io/images/gzip-size.png"><meta property="article:published_time" content="2021-09-24T00:00:00.000Z"><meta property="article:author" content="Vladimir Klepov"><meta property="article:tag" content="infra"><meta property="article:tag" content="frontend"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@thoughtspile"><meta name="twitter:image" content="https://thoughtspile.github.io/images/raw-bundle-size.png"><title>Zero-setup bundle size checker</title><link rel="stylesheet" href="/css/style.css?ts=1708189105394"><link rel="canonical" href="https://thoughtspile.github.io/2021/09/24/quick-size-check/"><link rel="alternate" href="/atom.xml" title="Vladimir Klepov as a Coder" type="application/atom+xml"><script defer="defer" data-domain="thoughtspile.github.io" src="https://t.thoughtspile.tech/js/script.js"></script></head><body class="max-width mx-auto px3"><div class="content index"><a href="/" id="header" class="header header--post"><div id="logo"></div><header id="title"><h1>Vladimir Klepov as a Coder</h1></header></a><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Zero-setup bundle size checker</h1><div class="post__date">Written in <time>2021</time></div></header><div class="content" itemprop="articleBody"><p>We all love keeping bundle size under control. There are many great tools that help you with that — <a href="https://github.com/webpack-contrib/webpack-bundle-analyzer" target="_blank" rel="noopener">webpack-bundle-analyzer</a>, <a href="https://github.com/siddharthkp/bundlesize" target="_blank" rel="noopener">bundlesize</a>, <a href="https://github.com/ai/size-limit" target="_blank" rel="noopener">size-limit</a>, what not. But sometimes you you're lazy, or you're stuck choosing the tool, or the project is too small to justify spending extra time. Don't worry, I'll show you a way to check bundle size without a single extra dependency on mac and linux!</p><h3>Raw bundle size</h3><p>To view the raw JS bundle size, just build your app (say, <code>npm run build</code>), and then (assuming your built files are in <code>./dist</code>) run this snippet:</p><pre class="language-sh"><code class="language-sh"><span class="token function">wc</span> <span class="token parameter variable">-c</span> dist/**/*.js</code></pre><p><code>wc</code> (short for Word Count) is a shell command that counts words in a file. Since we care about byte size, not words, we use the <code>-c</code> flag. Don't ask me why it's <code>c</code>, maybe for Char? Anyways, this gizes us the byte size of every generated JS file, as well as the total size, in a nice table:</p><p><img src="/images/raw-bundle-size.png" alt=""></p><p>You can change the asset extension like <code>dist/**/*.css</code>, or view the total asset size by omitting the extension altogether. This won't give you a breakdown by entrypoints or any idea <em>why</em> the size is what it is, but hey, you spent like 3 seconds on it!</p><p>You could try <code>du -sh dist/**/*.js</code> — it shows you <em>some</em> sizes of your assets, too. Those sizes are rounded up to the nearest FS page (or whatever it's called, my systems programming is rusty) — 4K in my case. 4K is not much, but <code>wc -c</code> is more precise.</p><h3>gzip size</h3><p>But your assets are compressed, aren't they? No propblem, shell can <code>gzip</code> for us:</p><pre class="language-sh"><code class="language-sh"><span class="token function">gzip</span> <span class="token parameter variable">-c</span> dist/**/*.js <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-c</span></code></pre><p>Here, we <code>gzip</code> every JS file and concatenate them together, <code>-c</code> writes the result to stdout, then <code>wc -c</code> counts the bytes of <code>gzip</code>ped data. You can also adjust compression level using <code>gzip -[1..9]</code>, but that doesn't drastically change the result.</p><p>Viewing the sizes of individual JS files is a touch more complicated:</p><pre class="language-sh"><code class="language-sh"><span class="token function">gzip</span> <span class="token parameter variable">-k</span> dist/**<br><span class="token function">wc</span> <span class="token parameter variable">-c</span> dist/**/*.js.gz</code></pre><p>Here, we gzip all the assets and actually write them to disk (<code>-k</code> makes sure the original files are not deleted), then <code>wc -c</code> them (<code>.gz</code> is appended to every filename) as usual.</p><p><img src="/images/gzip-size.png" alt=""></p><p>You could also <code>cat dist/**/*.js | gzip -c</code> — this compresses the JS files as one huge file. If you have several JS files, this would probably be smaller that per-file gzip. You can use this to see how much you would save by bundling all your code together.</p><hr><p>To check bundle size of any project, build it and use these 2 commands:</p><ul><li><code>wc -c dist/**/*.js</code> shows you byte sizes of all your JS files</li><li><code>gzip -c dist/**/*.js | wc -c</code> shows you the total bundle size of your JS files after gzip (what would be transfered over the network)</li></ul><p>Happy optimization!</p></div><span class="share"><div><a href="https://twitter.com/share?url=https://thoughtspile.github.io/2021/09/24/quick-size-check/&text=Zero-setup bundle size checker by @thoughtspile" target="_blank" rel="noopener">Tweet</a></div><div id="share-button"><a>Share</a></div></span><div class="social-links"><a href="https://www.linkedin.com/in/vklepov/" class="link--bare" target="_blank" rel="noopener"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a><a href="https://github.com/thoughtspile" class="link--bare" target="_blank" rel="noopener"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="/atom.xml" class="link--bare" target="_blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="rss" class="svg-inline--fa fa-rss fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM128 416c0 35.3-28.7 64-64 64s-64-28.7-64-64s28.7-64 64-64s64 28.7 64 64zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"></path></svg></a></div><a href="https://buymeacoffee.com/thoughtspile" class="link--bare bmc-card" target="_blank" rel="noopener"><div><b>Hello, friend!</b> My name is Vladimir, and I love writing about web development. If you got down here, you probably enjoyed this article. My goal is to become an independent content creator, and you'll help me get there by <span class="bmc">buying me a coffee!</span></div><img src="/images/bmc.png" data-no-preview class="bmc-image"></a><div class="post-related"><div class="post-sibling"><span class="post-siblings__direction">More?</span> <a class="tag-link-link" href="/">All articles ever</a> <a class="tag-link-link" href="/tags/infra" rel="tag">infra</a> <a class="tag-link-link" href="/tags/frontend" rel="tag">frontend</a></div><a class="link--bare post-sibling" href="/2021/09/22/dev-warnings/"><span class="post-siblings__direction">Older?</span> <span class="link__text">Build better libraries, use dev warnings</span> </a><a class="link--bare post-sibling" href="/2021/09/27/usestate-tricks/"><span class="post-siblings__direction">Newer?</span> <span class="link__text">7 things you may not know about useState</span></a></div></article><script async src="/js/share.js"></script></div></body></html>